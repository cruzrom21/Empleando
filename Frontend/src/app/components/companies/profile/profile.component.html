<div class="container mx-auto p-4">
    <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-2xl font-bold mb-4">Perfil de Usuario</h2>


        <div class="flex items-center mb-4">
            <div class="w-16 h-16 bg-gray-200 rounded-full mr-4"></div>
            <div>
                <h3 class="text-xl font-bold">{{ name }} </h3>
            </div>
        </div>
        <div class="mb-4">
            <h3 class="text-lg font-bold mb-2">Información Personal</h3>

            <div *ngFor="let info of arrInfo()">
                <p class="text-gray-700">{{ info.type }}: {{ info.value }}</p>
            </div>
        </div>

    </div>
</div>


<form [formGroup]="profileFrom" (ngSubmit)="onSubmitProfile()">
    <div class="container mx-auto p-4">
        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-2xl font-bold mb-4">Editar Perfil</h2>

            <div class="mb-4">
                <label for="name" class="block text-sm font-medium text-gray-700">Nombre de la empresa</label>
                <input type="text" id="name" name="name" formControlName="name"
                    class="w-full px-3 py-2 border rounded-md mt-1 {{ profileFrom.get('name')?.invalid && profileFrom.get('name')?.touched ? 'border-red-500' : '' }}">

                <div *ngIf="profileFrom.get('name')?.hasError('required') && profileFrom.get('name')?.touched"
                    class="text-red-500 text-sm mt-1">Este campo es obligatorio</div>
            </div>

            <div class="mb-4">
                <label for="birthdate" class="block text-sm font-medium text-gray-700">Fecha de creacion</label>
                <input type="date" id="birthdate" name="birthdate" formControlName="birthdate"
                    class="w-full px-3 py-2 border rounded-md mt-1  {{ profileFrom.get('birthdate')?.invalid && profileFrom.get('birthdate')?.touched ? 'border-red-500' : '' }}">

                <div *ngIf="profileFrom.get('birthdate')?.hasError('required') && profileFrom.get('birthdate')?.touched"
                    class="text-red-500 text-sm mt-1">Este campo es obligatorio</div>
            </div>

            <div class="mb-4">
                <label for="location" class="block text-sm font-medium text-gray-700">Ubicación</label>
                <input type="text" id="location" name="location" formControlName="location"
                    class="w-full px-3 py-2 border rounded-md mt-1  {{ profileFrom.get('location')?.invalid && profileFrom.get('location')?.touched ? 'border-red-500' : '' }}">

                <div *ngIf="profileFrom.get('location')?.hasError('required') && profileFrom.get('location')?.touched"
                    class="text-red-500 text-sm mt-1">Este campo es obligatorio</div>
            </div>

            <div class="mb-4">
                <label for="phone" class="block text-sm font-medium text-gray-700">Telefono de contacto</label>
                <input type="text" id="phone" name="phone" formControlName="phone"
                    class="w-full px-3 py-2 border rounded-md mt-1  {{ profileFrom.get('phone')?.invalid && profileFrom.get('phone')?.touched ? 'border-red-500' : '' }}">

                <div *ngIf="profileFrom.get('phone')?.hasError('required') && profileFrom.get('phone')?.touched"
                    class="text-red-500 text-sm mt-1">Este campo es obligatorio</div>
            </div>

            <div class="flex justify-end">
                <button type="submit"
                    [ngClass]="{ 'opacity-50 cursor-not-allowed': profileFrom.invalid, 'opacity-100 cursor-pointer': !profileFrom.invalid }"
                    [disabled]="profileFrom.invalid"
                    class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors">Guardar
                    Información</button>
            </div>

        </div>
    </div>
</form>



<div *ngIf="alertSuccess"
    class="fixed top-0 right-0 mt-10 mr-10 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg"
    role="alert">
    <strong class="font-bold">Éxito!</strong><br>
    <span class="block sm:inline">{{ response.mensaje }}</span>
</div>

<div *ngIf="alertError"
    class="fixed top-0 right-0 mt-10 mr-10 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg"
    role="alert">
    <strong class="font-bold">Error!</strong><br>
    <span class="block sm:inline">{{ response.mensaje }}</span>
</div>